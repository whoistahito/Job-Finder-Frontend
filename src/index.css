@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  body {
    @apply antialiased text-gray-900;
      background: radial-gradient(circle at 60% 20%, rgba(99, 102, 241, 0.12), transparent 60%),
      linear-gradient(135deg, #f9fafb 0%, #f1f5f9 55%, #eef2f6 100%);
      min-height: 100vh;
  }

    body.soft-ui {
        background: #f5f4f8; /* subtle lilac gray like inspiration */
    }
}

@layer components {
    .surface-card {
        @apply rounded-2xl border border-gray-200/70 bg-white/65 backdrop-blur-md shadow-[0_4px_14px_-2px_rgba(0,0,0,0.05),0_2px_4px_-1px_rgba(0,0,0,0.04)];
    }

    /* Pure CSS hero (no image) â€“ soft layered gradients + subtle grid overlay */
    .hero-panel {
        position: relative;
        overflow: hidden;
    }

    .hero-panel:before {
        content: "";
        position: absolute;
        inset: 0;
        background: linear-gradient(100deg, rgba(255, 255, 255, 0.95) 10%, rgba(255, 255, 255, 0.80) 60%, rgba(255, 255, 255, 0.70) 100%),
        radial-gradient(circle at 20% 20%, rgba(99, 102, 241, 0.18), transparent 60%),
        radial-gradient(circle at 80% 70%, rgba(56, 189, 248, 0.14), transparent 65%);
        backdrop-filter: saturate(180%) blur(12px);
    }

    .hero-panel:after {
        content: "";
        position: absolute;
        inset: 0;
        background-image: radial-gradient(rgba(99, 102, 241, 0.18) 1px, transparent 1px);
        background-size: 28px 28px;
        mask: linear-gradient(to bottom, rgba(0, 0, 0, 0.5), transparent 70%);
        opacity: .35;
        mix-blend-mode: multiply;
    }

    .stacked-sections {
        @apply relative rounded-2xl border border-gray-200/60 bg-white/55 backdrop-blur-md overflow-hidden;
    }

    .stacked-sections > .item {
        @apply px-6 md:px-8 py-6 relative;
    }

    .stacked-sections > .item + .item {
        @apply border-t border-gray-200/60;
    }

    .stacked-sections .item-title {
        @apply text-sm font-medium tracking-wide text-gray-700 flex items-center gap-2;
    }

    .stacked-sections .item-title:before {
        content: "";
        @apply inline-block h-4 w-1.5 rounded-full bg-gradient-to-b from-brand-400 to-brand-600;
    }

    .panel {
        @apply relative rounded-2xl border border-gray-300/70 bg-white;
    }

    .panel-muted {
        @apply relative rounded-2xl border border-gray-300/60 bg-[#f5f4f8];
    }

    .dot-grid-bg {
        position: relative;
    }

    .dot-grid-bg:before {
        content: "";
        position: absolute;
        inset: 0;
        background-image: radial-gradient(#a9a6b5 0.8px, transparent 0.8px);
        background-size: 14px 14px;
        opacity: .35;
        mask: linear-gradient(to bottom, rgba(0, 0, 0, 0.85), rgba(0, 0, 0, 0.4) 55%, transparent 90%);
    }

    .dot-cluster {
        position: absolute;
        top: 0;
        left: 0;
        width: 300px;
        height: 260px;
        pointer-events: none;
    }

    .dot-cluster:before {
        content: "";
        position: absolute;
        inset: 0;
        background-image: radial-gradient(#222 2px, transparent 2px);
        background-size: 24px 24px;
        mask: radial-gradient(circle at 55% 50%, #000 0%, #000 35%, transparent 70%);
        opacity: .55;
    }

    .trust-wrap {
        @apply relative rounded-2xl border border-gray-400/60 bg-white overflow-hidden;
    }

    .trust-wrap:before {
        content: "";
        position: absolute;
        inset: 0;
        background-image: radial-gradient(#9f9ca8 0.75px, transparent 0.75px);
        background-size: 16px 16px;
        opacity: .35;
        mask: linear-gradient(to bottom, rgba(0, 0, 0, 0.85), rgba(0, 0, 0, 0.55) 55%, transparent 90%);
    }

    .trust-inner {
        @apply relative px-8 md:px-14 pt-14 pb-10 md:pb-14;
    }

    .trust-heading {
        @apply font-outfit font-semibold tracking-[-0.02em] text-[clamp(2.75rem,6vw,5rem)] leading-none text-gray-900 mb-10;
    }

    .benefit-list {
        @apply divide-y divide-gray-300/70 border-t border-b border-gray-300/70;
    }

    .benefit-item {
        @apply flex flex-col md:flex-row md:items-start gap-6 py-8;
    }

    .benefit-badge {
        @apply shrink-0 w-9 h-9 rounded-full bg-gray-900 text-white flex items-center justify-center text-sm font-medium tracking-wide;
    }

    .benefit-title {
        @apply text-lg font-medium text-gray-900 leading-snug;
    }

    .benefit-desc {
        @apply text-sm text-gray-600 leading-relaxed mt-2 max-w-md;
    }

    /* Remove old bridge panel styles (no longer used) */
    /* .stack-bridge ... (removed) */
    /* Slim CTA divider (between last card and footer) */
    .stack-cta {
        @apply relative max-w-6xl mx-auto w-full px-6;
    }

    .stack-cta-inner {
        @apply flex flex-col md:flex-row md:items-end justify-between gap-10 md:gap-14;
    }

    .stack-cta-left {
        @apply flex-1;
    }

    .stack-cta-title {
        @apply font-outfit font-semibold tracking-tight text-[clamp(2.4rem,6vw,4.2rem)] leading-[0.95] text-gray-900;
    }

    .stack-cta-sub {
        @apply mt-5 text-sm md:text-base leading-relaxed text-gray-600 max-w-xl;
    }

    .stack-cta-right {
        @apply shrink-0 flex items-start md:items-end;
    }

    .stack-cta-primary {
        @apply inline-flex items-center gap-2 px-9 py-4 rounded-full bg-gray-900 text-white text-sm md:text-base font-medium hover:bg-black transition-colors shadow-[0_4px_18px_-4px_rgba(0,0,0,0.25)];
    }

    /* Old classes retained for safety but can be removed if unused */
    .stack-cta-actions {
        display: none;
    }

    .stack-cta-btn {
        display: none;
    }
}

@layer utilities {
    .animate-text {
        animation: text-shift 3s linear infinite;
    }

    .bg-dot-grid {
        background-image: radial-gradient(currentColor 1px, transparent 1px);
        background-size: 14px 14px;
        color: #d4d4dd;
    }

    .display-heading {
        @apply font-outfit tracking-tight font-semibold text-[clamp(2.75rem,8vw,5rem)] leading-[0.95];
    }

    .card {
        @apply surface-card;
    }

    .pill-btn {
        @apply rounded-full px-6 py-3 text-sm font-medium inline-flex items-center gap-2;
    }

    .radial-accent {
        background: radial-gradient(circle at center, rgba(99, 102, 241, 0.15), rgba(99, 102, 241, 0) 70%);
    }

    .divider {
        @apply h-px w-full bg-gradient-to-r from-transparent via-gray-200 to-transparent;
    }

    .accent-ring {
        box-shadow: 0 0 0 1px theme('colors.gray.200'), 0 0 0 6px rgba(99, 102, 241, 0.08);
    }

    .page-shell {
        @apply min-h-screen flex items-center justify-center px-4 py-14;
    }

    .page-container {
        @apply w-full max-w-3xl;
    }

    .flat-section {
        @apply rounded-2xl border border-gray-200/70 bg-white/80 backdrop-blur-md p-6 md:p-10;
    }

    .eyebrow {
        @apply text-[11px] tracking-[0.2em] font-medium uppercase text-gray-500;
    }

    .gradient-text {
        @apply bg-clip-text text-transparent bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900;
    }

    .glass-ring {
        position: relative;
        border-radius: 1.25rem;
    }

    .glass-ring:before {
        content: "";
        position: absolute;
        inset: 0;
        border-radius: inherit;
        pointer-events: none;
        padding: 1px;
        background: linear-gradient(#ffffff, #ffffff) padding-box, linear-gradient(135deg, rgba(99, 102, 241, 0.55), rgba(56, 189, 248, 0.45), rgba(255, 255, 255, 0.6)) border-box;
    }

    .form-shell {
        @apply relative rounded-3xl bg-white/60 backdrop-blur-xl border border-white/40 shadow-[0_8px_30px_-6px_rgba(31,38,135,0.15),0_4px_8px_-2px_rgba(0,0,0,0.05)] p-8 md:p-10;
    }

    .section-wrap {
        @apply relative rounded-3xl border border-gray-200/60 bg-white/55 backdrop-blur-md;
    }

    .section-heading {
        @apply font-outfit text-xl md:text-2xl font-semibold tracking-tight text-gray-900;
    }

    .accent-bar {
        @apply h-px w-full bg-gradient-to-r from-brand-400/50 via-cyan-400/50 to-transparent;
    }

    .feature-surface {
        @apply relative rounded-2xl bg-white/60 backdrop-blur border border-gray-200/60 p-5 flex flex-col transition-all duration-300 hover:shadow-[0_8px_24px_-6px_rgba(0,0,0,0.08)] hover:-translate-y-0.5;
    }

    .feature-icon {
        @apply h-11 w-11 rounded-xl bg-gradient-to-br from-brand-50 via-white to-white text-brand-600 ring-1 ring-brand-100 flex items-center justify-center mb-4;
    }
}

@keyframes text-shift {
    0%, 100% {
        background-position: 0% center;
    }
    50% {
        background-position: 100% center;
    }
}

@keyframes scale-in {
    0% {
        transform: scale(0.9);
        opacity: 0;
    }
    100% {
        transform: scale(1);
        opacity: 1;
    }
}

@keyframes fade-in-up {
    0% {
        transform: translateY(20px);
        opacity: 0;
    }
    100% {
        transform: translateY(0);
        opacity: 1;
    }
}

@layer utilities {
    .animate-scale-in {
        animation: scale-in 0.5s cubic-bezier(0.16, 1, 0.3, 1);
    }

    .animate-fade-in-up {
        animation: fade-in-up 0.6s cubic-bezier(0.16, 1, 0.3, 1);
    }

    .heading-xl {
        @apply font-outfit font-semibold tracking-[-0.02em] text-[clamp(3.5rem,9vw,6.5rem)] leading-[0.9];
    }

    .subcopy {
        @apply text-base md:text-lg leading-relaxed text-gray-700;
    }

    .form-grid {
        @apply grid gap-y-8 gap-x-10 md:grid-cols-2;
    }

    .minimal-field input, .minimal-field select {
        @apply w-full bg-transparent border-0 border-b border-gray-400/60 rounded-none px-0 py-2 text-base text-gray-900 placeholder:text-gray-400 focus:border-gray-900 focus:ring-0;
    }

    .minimal-field input:hover, .minimal-field select:hover {
        @apply border-gray-500;
    }

    .minimal-field label {
        @apply text-xs font-medium tracking-wide text-gray-500 uppercase mb-2;
    }

    .minimal-btn {
        @apply inline-flex items-center gap-2 rounded-full bg-gray-900 text-white px-8 py-3 text-sm font-medium hover:bg-black transition-colors;
    }

    .inline-hint {
        @apply text-[11px] tracking-wide uppercase text-gray-500;
    }

    .link-quiet {
        @apply inline-flex items-center gap-1 text-sm font-medium text-gray-700 relative transition-colors;
    }

    .link-quiet:after {
        content: "";
        position: absolute;
        left: 0;
        bottom: -2px;
        height: 1px;
        width: 0;
        background: currentColor;
        transition: width .35s ease;
    }

    .link-quiet:hover {
        @apply text-gray-900;
    }

    .link-quiet:hover:after {
        width: 100%;
    }

    .link-quiet .arrow {
        @apply text-[11px] translate-y-px transition-transform;
    }

    .link-quiet:hover .arrow {
        transform: translate(2px, -2px);
    }

    .stack-section {
        @apply mt-40 relative;
    }

    .stack-wrapper {
        position: relative;
        --stack-count: 2; /* number of sticky cards */
        --stack-extra: 60vh; /* increased extra scroll room so last card releases before footer */
        margin-bottom: 6rem; /* space before footer */
    }

    .stack-spacer {
        position: relative;
        /* Use dynamic height if JS sets --stack-height, otherwise fallback */
        height: var(--stack-height, calc(var(--stack-count) * 100vh + var(--stack-extra)));
    }

    .stack-card {
        position: sticky;
        top: 5rem;
        border: 1px solid #c8c6cf;
        background: #f5f4f8;
        border-radius: 1.5rem;
        padding: clamp(2.5rem, 4vw, 4rem) clamp(2rem, 4vw, 4rem);
        display: flex;
        flex-direction: column;
        gap: 2.5rem;
        --shift: calc(var(--i) * 28px);
        transform: translate3d(0, var(--shift), 0) scale(.965);
        transition: transform .55s cubic-bezier(.22, .61, .36, 1), box-shadow .55s, background-color .55s, border-color .55s;
        will-change: transform;
    }

    .stack-card.is-active {
        transform: translateY(0) scale(1);
        background: #ffffff;
        border-color: #b5b3bc;
        box-shadow: 0 12px 40px -8px rgba(0, 0, 0, 0.08);
    }

    .stack-card h2 {
        font-family: Outfit, sans-serif;
        font-weight: 500;
        line-height: .9;
        font-size: clamp(3rem, 7vw, 5.5rem);
        letter-spacing: -0.02em;
    }

    .stack-card:not(.is-active) h2 {
        opacity: .55;
    }

    .stack-line {
        height: 1px;
        width: 100%;
        background: linear-gradient(to right, #b6b3bd, #d5d3d9);
    }

    .stack-grid {
        @apply grid gap-10 md:grid-cols-4;
    }

    .stack-grid-item {
        @apply space-y-3;
    }

    .stack-grid-item h3 {
        @apply text-sm font-medium tracking-wide uppercase text-gray-600;
    }

    .stack-grid-item p {
        @apply text-sm text-gray-700 leading-relaxed;
    }

    .stack-benefits {
        @apply divide-y divide-gray-300/70;
    }

    .stack-benefit {
        @apply flex flex-col md:flex-row md:items-start gap-6 py-8;
    }

    .stack-badge {
        @apply shrink-0 w-9 h-9 rounded-full bg-gray-900 text-white flex items-center justify-center text-sm font-medium tracking-wide;
    }

    .stack-benefit h3 {
        @apply text-lg font-medium text-gray-900 leading-snug;
    }

    .stack-benefit p {
        @apply text-sm text-gray-600 leading-relaxed mt-2 max-w-md;
    }

    .token-field {
        @apply flex flex-wrap items-center gap-2 rounded-xl bg-white border border-gray-300/70 px-3 py-2 min-h-[3.25rem];
    }

    .token-field.focused {
        @apply ring-2 ring-gray-900/10 border-gray-400;
    }

    .tag-badge {
        @apply inline-flex items-center gap-2 h-8 pl-3 pr-2 rounded-full bg-gray-900 text-white text-[11px] font-medium tracking-wide;
    }

    .tag-badge button {
        @apply flex items-center justify-center w-4 h-4 rounded-full bg-white/15 hover:bg-white/25 text-white text-[10px] leading-none;
    }

    .tag-input {
        @apply flex-1 min-w-[10ch] bg-transparent border-0 focus:outline-none focus:ring-0 text-sm placeholder:text-gray-400;
    }

    .tag-meta {
        @apply text-[11px] tracking-wide uppercase text-gray-500;
    }

    .example-chips {
        @apply flex flex-wrap gap-2 mt-3;
    }

    .example-chip {
        @apply inline-flex items-center justify-center rounded-full text-[11px] font-medium transition-all select-none relative overflow-hidden;
        min-width: 2.4rem; /* circle for short text */
        padding: 0 .9rem; /* becomes pill when wider */
        height: 2.15rem;
        line-height: 1;
        background: radial-gradient(circle at 30% 30%, #ffffff 0%, #f4f4f7 60%, #ececf1 100%);
        box-shadow: 0 1px 0 0 #d5d4d9, 0 2px 4px -1px rgba(0, 0, 0, .08);
        border: 1px solid #d3d2d8;
        color: #4b4b55;
    }

    .example-chip:hover:not(:disabled) {
        @apply text-gray-900;
        background: radial-gradient(circle at 30% 30%, #ffffff 0%, #f7f7fa 70%, #f0f0f5 100%);
        box-shadow: 0 2px 6px -1px rgba(0, 0, 0, .12);
    }

    .example-chip:active:not(:disabled) {
        transform: translateY(1px);
        box-shadow: 0 1px 3px -1px rgba(0, 0, 0, .25);
    }

    .example-chip[aria-pressed="true"], .example-chip:disabled {
        background: linear-gradient(135deg, #222, #111);
        color: #fff;
        border-color: #111;
        box-shadow: 0 2px 8px -2px rgba(0, 0, 0, .35);
        cursor: default;
    }

    .example-chip:focus-visible {
        outline: 2px solid #111;
        outline-offset: 2px;
    }

    /* NEW micro copy + toggle styles */
    .micro-hint {
        @apply text-[11px] text-gray-500 leading-relaxed;
    }

    .chip-toggle {
        @apply text-[11px] font-medium uppercase tracking-wide text-gray-600 hover:text-gray-900 transition-colors;
    }

    .stack-wrapper.release-stack .stack-card {
        position: relative; /* stops sticking */
        top: auto;
        transform: none !important;
        box-shadow: 0 4px 18px -6px rgba(0, 0, 0, .07); /* subtle settled shadow */
    }

    .stack-wrapper.release-stack .stack-card + .stack-card {
        margin-top: 3rem;
    }
}
